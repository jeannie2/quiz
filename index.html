<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="author" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
  
  #myVideo {
      border:1px solid black
  }
  </style>

</head>
<body>

<button type="button" onclick="speak('howdy')">Text to speech</button>
<iframe id="video" id="media" src="https://www.youtube.com/embed/UmaFTEIZ84?autoplay=1" width="420" height="315" frameborder="0" allowfullscreen></iframe> 
<!---<iframe id="video" id="myVideo" src="https://www.youtube.com/embed/UmaFTEIZ84?autoplay=1" width="420" ></iframe>-->
<iframe id="video" id="myVideo" src="https://www.youtube.com/embed/UmaFTEIZ84" width="420" height="315" frameborder="0" allowfullscreen></iframe> <!--original: https://www.youtube.com/watch?v=_UmaFTEIZ84-->

<div id="results">
        <p id="result" >howdy</p> 
      </div>

<script>

/*
//works 
setTimeout(function() {
    document.body.style.backgroundColor = "red",
    document.getElementById('result').textContent = "Correct!"

}, 3000);
*/          

function setCurTime() { 
  media.currentTime=5;
} 


setCurTime();


//////from here added
function speak(text) {
    console.log("speaking")
    var msg = new SpeechSynthesisUtterance();
    var voices = speechSynthesis.getVoices(); 
    msg.voice = voices[0]; //change. 
    //print all voices in console: speechSynthesis.getVoices()
    console.log((msg.voice).name)
    msg.text = text;
    msg.lang = 'en-US';
    msg.volume = 2; //0 to 1 (float. default:1)
    msg.rate = 0.9; //0.1 to 10 (fastest) default:1
    msg.pitch = 1.2; //0 to 2 (highest) default:1
    speechSynthesis.speak(msg);

    /*
    msg.onend = function() {
        alert("fini");
        //runSpeechRecognition() 
    }*/
}

const questions= [
        {
                question: "Which school did Elon musk attend?",
                options: {
                  a: "Yale",
                  b: "Harvard",
                  c: "UPenn",
                  d: "MIT",
                },
                //answer:"c",
                rawanswer: "c",
                answer:"uPenn"
              },
            {
                question: "Who is the most powerful Greek god?",
                options: {
                  a: "Poseidon",
                  b: "Ares",
                  c: "prometheus",
                  d: "Zeus"
                },
                //answer:"d",
                rawanswer: "d",
                answer:"Zeus"
              },
            
              {
                question: "Which Greek island is this?",
                options: {
                  a: "Santorini",
                  b: "Mykonos",
                  c: "Crete",
                  d: "Corfu",
                },
                //answer:"a",
                rawanswer: "a",
                answer:"Santorini"
              },
            
              {
                question: "who of the following did not graduate from uPenn?",
                options: { //fix
                  a: "Poseidon",
                  b: "Ares",
                  c: "prometheus",
                  d: "Zeus",
                },
                //answer:"d",
                rawanswer: "d",
                answer:"xxx"
              },
            
            ]

document.body.onkeyup = function(e){
    if(e.keyCode == 32){
       // speak("A, mow, " + "B, eatery");
       speak(questions[0].question);
       setTimeout(function() {
           speak(",A,, " + questions[0].options.a + ",B,, " + questions[0].options.b + ",C,, " + questions[0].options.c + ", D,, " + questions[0].options.d + "."); //what if more options
       }, 2590  //",B. " ",B.," ",B..,"
       );
       
      // window.speechSynthesis.pause();
       //////speak("500km");
       //window.speechSynthesis.pause();
       //////speak("vesuveus");
       //window.speechSynthesis.pause();
    }
}

//msg.voiceURI = 'native'; guess delete
//msg.text = "answer unrecognised";

//speak("howdy"); 
//speak(questions[gum].question);
//window.speechSynthesis.pause();
//speak(questions[gum].options.a); 
//window.speechSynthesis.pause();
//speak(questions[gum].options.b); 
//window.speechSynthesis.pause();
//speak(questions[gum].options.c);
//speechSynthesisInstance.pause();
//speak(questions[gum].options.d);
//speechSynthesisInstance.pause();
//speak(questions[gum].options.e);
//speechSynthesisInstance.pause();

//https://stackoverflow.com/questions/21947730/chrome-speech-synthesis-with-longer-texts

/* other option (more repetition)
var utterance1 = new SpeechSynthesisUtterance('How about we say this now? This is quite a long sentence to say.');
var utterance2 = new SpeechSynthesisUtterance('We should say another sentence too, just to be on the safe side.');

window.speechSynthesis(utterance1);
window.speechSynthesis(utterance2);

window.speechSynthesis.pause()
*/

//original code:
/*
var msg = new SpeechSynthesisUtterance();
        //msg.voice = voices[10];
       
        msg.text = "answer unrecognised";
        msg.lang = 'en-US';
        //msg.volume = 1; //o to 1
        //msg.rate = 1; //from 0.1 to 10
        //msg.pitch = 2; //from 0 to 2
        window.speechSynthesis.speak(msg);

         //move. 
         //after text is said aloud
         msg.onend = function() {
            alert("speech fini");

        }
*/

</script>

</body>
</html>
