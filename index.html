<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
        
    <title>Family Quiz Game</title>
    <meta name="fiewport" content="width=device-width, initial-scale=1.0">
   
    <style>

        body {
          background:yellow;
        }

        #results {
          display:block;
          text-align:center;
          color:black;
          margin-top:35%;
          font-size:50px;
        }

        p#result {
          font-size:50px;
          color:black;
          display:none;
        }

        #quizdiv {
        text-align:center;
        margin-top: 20%;
        }

        #optionsbox{
          text-align:left;
          display:inline-block; 
        }

       p#question {
          font-size:28px; /*30px*/
          text-align:center;
          bottom:40%;
          top: 50%;
          font-family: Calibri, sans-serif;
        }

        p#options {
          font-size:20px;
        }

        p#A  {
          border:2px solid black;
        }
        
        p#A, p#B, p#C, p#D, p#E {
          font-family: Calibri, sans-serif;
          font-size:20px;
        }

    </style>

</head>

<body>

    <h1>
    </h1>


<iframe id="media" width="420" height="345" 
src="https://www.youtube.com/embed/tgbNymZ7vqY?autoplay=1" frameborder="0" allowfullscreen allow="autoplay">
</iframe>
<!----
   <iframe id="video" id="media" src="https://www.youtube.com/embed/UmaFTEIZ84?autoplay=1" width="420" height="315" frameborder="0" allowfullscreen></iframe>  -->

    <div id="quizdiv">
      <p id="question"></p>
        <div id="optionsbox">
           <p id="A" class="options" onclick=checkAnswer(a)></p> <!---lowercase  -->
           <p id="B" class="options" onclick=checkAnswer(b)></p>
           <p id="C" class="options" onclick=checkAnswer(c)></p>
          <p id="D" class="options" onclick=checkAnswer(d)></p>
        </div>
    </div>

  <div id="results">
    <p id="result"></p> 
  </div>

<audio id="yellow">
      <source src="audio/applause2.mp3" type="audio/mpeg">
</audio>

<!----<button type="button" onclick="myFunction()">Click Me!</button>-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><!--need jquery?QQ-->

<script>

if ('speechSynthesis' in window) {
    console.log('Speech recognition is supported');

var vid=document.getElementById("myVideo");
var media = document.querySelector("iframe");
var gum;
var qs;

//ar mp = iframe.getElementById('media');
media.setVolume(0);

/*
function setCurTime() { 
  media.currentTime=5;
  console.log("setcurtime")
} 

setCurTime();*/

    const questions = [
        {
                question: "Which school did Elon musk attend?",
                options: {
                  a: "Yale",
                  b: "Harvard",
                  c: "UPenn",
                  d: "MIT",
                },
                //answer:"c",
                rawanswer: "c",
                answer:"uPenn"
              },
            {
                question: "Who is the most powerful Greek god?",
                options: {
                  a: "Poseidon",
                  b: "Ares",
                  c: "prometheus",
                  d: "Zeus"
                },
                //answer:"d",
                rawanswer: "d",
                answer:"Zeus"
              },
            
            {
                question: "Which Greek island is this?",
                options: {
                  a: "Santorini",
                  b: "Mykonos",
                  c: "Crete",
                  d: "Corfu",
                },
                //answer:"a",
                rawanswer: "a",
                answer:"Santorini"
              },
            
              {
                question: "who of the following did not graduate from uPenn?",
                options: { //fix
                  a: "Poseidon",
                  b: "Ares",
                  c: "prometheus",
                  d: "Zeus",
                },
                //answer:"d",
                rawanswer: "d",
                answer:"xxx"
              },

              {
                question: "How many planets are there in our solar system?",
                options: {
                  a: 7,
                  b: 8,
                  c: 9,
                  d: 10
                },
                //answer:"b",
                rawnanswer: "b",
                answer:"8" //string or number? QQ
              },

              {
                question: "Is the Moon bigger than Earth?",
                options: {
                  a: "yes",
                  b: "no"
                },
                //answer:"a",
                rawanswer: "a",
                anwer:"yes",
                extra: "the Earth is around 81 times bigger than the Moon?" //?
              },

              {
                question: "Who was the first person to go to outer space?",
                options: {
                  a: "Buzz Aldrin",
                  b: "Neil Armstrong",
                  c:"Yuri Gagarin",
                  d: "Andriyan Nikolayev"
                },
                //answer:"c",
                rawanswer:"c",
                answer:"Yuri Gagarin"
              },

              {
                question: "How old is President Trump?",
                options: {
                  a: 72,
                  b: 75,
                  c: 77,
                  d: 74
                },
                
                //answer:"d",
                rawanswer:"d",
                answer:"74" //?
              },

              {
                question: "Which of the following was the largest empire in human history?",
                options: {
                  a: "Roman Empire",
                  b: "British Empire",
                  c: "Russian Empire",
                  d: "Mongol Empire"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"Mongol Empire"
              },

              {
                question: "Which of the following was the largest empire in human history?",
                options: {
                  a: "Roman Empire",
                  b: "British Empire",
                  c: "Russian Empire",
                  d: "Mongol Empire"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"Mongol Empire"
              },

              {
                question: "How much water should you drink per day?",
                options: {
                  a: "2 liters", ////
                  b: "1.5 liters",
                  c: "0.8 liters",
                  d: "2.3 liters"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"2 liters" //number
              },

              {
                question: "Who did not found PayPal?", //change
                options: {
                  a: "Elon Musk",
                  b: "Jeff Bezos",
                  c: "peter Thiel",
                  d: "Yu Pan"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Jeff Bezos"
              },

              {
                question: "How tall is Mount Everest?",
                options: {
                  a: "10,050 meters",///
                  b: "9,024 meters",
                  c: "15,017 meters",
                  d: "8,848 meters"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"8,848 meters" //numbers, space?
              },

              {
                question: "How long is a day on Mars",
                options: {
                  a: "29 hours, 30 minutes",////
                  b: "10 hours, 15 minutes ",
                  c: "24 hours, 27 minutes",
                  d: "24 hours, 37 minutes"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"24 hours, 37 minutes" //numbers
              },


              {
                question: "Which of the following is the biggest planet in our solar system?",
                options: {
                  a: "Jupiter",
                  b: "Saturn",
                  c: "Uranus",
                  d: "Neptune"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"Jupiter"    
              },

              {
                question: "How many moons does Jupiter have?",
                options: {
                  a: 150,
                  b: 40,
                  c: 15,
                  d: 79
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"79" //numbers 
              },

              {
                question: "Which planet has a solid surface?",
                options: {
                  a: "Jupiter",
                  b: "Saturn",
                  c: "Uranus",
                  d: "Neptune"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"Jupiter" 
              },

              {
                question: "Donald Trump is the what number President?",
                options: {
                  a: "43",
                  b: "44",
                  c: "47",
                  d: "45"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"45" //numbers
              },

              {
                question: "Where is the macadamia nut originally from?",
                options: {
                  a: "Brazil",
                  b: "Jamaica",
                  c: "Hawaii",
                  d: "Australia"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"Australia"
              },

              {
                question: "Who invented the telephone?",
                options: {
                  a: "Thomas Edison",
                  b: "Alexander Graham Bell",
                  c: "Samuel Morse",
                  d: "Isaac Newton"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Alexander Graham Bell"
              },

              {
                question: "Texas is the USA's biggest producer of what?",
                options: {
                  a: "oil, cattle, sheep, minerals, cotton, wool",
                  b: "oil, dairy, minerals, ",///////
                  c: "Samuel Morse",
                  d: "Isaac Newton"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"oil, dairy, minerals"
              },

              {
                question: "Which are the top three largest countries by total area?",
                options: {
                  a: "Russia, China, Canada",
                  b: "Russia, USA, Canada",
                  c: "Russia, Canada, USA",
                  d: "Russia, Canada, Brazil"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"Russia, Canada, USA"
              },

              {
                question: "Which is the world's richest country",
                options: {
                  a: "USA",
                  b: "Canada",
                  c: "Qatar",
                  d: "Kuwait"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"Qatar"
              },

              {
                question: "Which is the biggest US state by land area?",
                options: {
                  a: "Texas",
                  b: "Alaska",
                  c: "Arizona",
                  d: "California"
                },
                  //answer:"b"
                  rawanswer:"b",
                  answer:"Alaska"
              },

              {
                question: "Which is the world's poorest country?",
                options: {
                  a: "Congo",
                  b: "Yemen",
                  c: "Ethiopia",
                  d: "Haiti"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"Congo"
              },

              {
                question: "Which is the world's most popular holiday destination?",
                options: {
                  a: "China",
                  b: "Thailand",
                  c: "France",
                  d: "New York"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"France"
              },

              {
                question: "Which is Canada's largest city in terms of population?",
                options: {
                  a: "Vancouver",
                  b: "Quebec",
                  c: "Toronto",
                  d: "Montreal"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Quebec"
              },

              {
                question: "Which is the most visited museum in the world?",
                options: {
                  a: "British Museum",
                  b: "National Museum of China",
                  c: "The Metropolitan Museum of Art",
                  d: "The Louvre"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"The Louvre"
              },

              {
                question: "Who founded Apple?", ///
                options: {
                  a: "Steve Jobs, Ronald Wayne, Steve Wozniak",
                  b: "Steve Jobs, ",
                  c: "The Metropolitan Museum of Art",
                  d: "The Louvre"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"The Louvre"
              },

              {
                question: "Which city has the highest population?", 
                options: {
                  a: "Hong Kong",
                  b: "Mumbai",
                  c: "Beijing",
                  d: "Tokyo"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"Tokyo"
              },

              {
                question: "Which is the world's biggest ocean?", 
                options: {
                  a: "Atlantic Ocean",
                  b: "Pacific Ocean",
                  c: "Indian Ocean",
                  d: "Arctic Ocean"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Pacific Ocean"
              },


              {
                question: "How tall is the biggest wave recorded in history", ///
                options: {
                  a: "150 feet",
                  b: "105 feet",
                  c: "50 feet",
                  d: "100 feet"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"100 feet" //numbers and units 
              },
              
              {
                question: "Which is the world's richest company by revenue", 
                options: {
                  a: "Sinopec Group",
                  b: "Tesla",
                  c: "Apple",
                  d: "Walmart"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"Walmart"
            
              },

              {
                question: "What year was the first Olympics held in Athens, Greece", ///
                options: {
                  a: 1935, ////
                  b: 1910,
                  c: 1940,
                  d: 1896
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"1896" // year 
              },

              {
                question: "Which country has highest internet penetration rate", 
                options: {
                  a: "Indonesia",
                  b: "USA",
                  c: "China",
                  d: "India"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"China"
              },

              {
                question: "erer", //impact of alchohol 
                options: {
                  a: "Indonesia",
                  b: "USA",
                  c: "China",
                  d: "India"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"c"
              },

              {
                question: "When did the first computer come out?", //first computer
                options: {
                  a: "Indonesia",
                  b: "USA",
                  c: "China",
                  d: "India"
                },
                  //answer:"c",
                  rawanswer:"c",
                  answer:"c"
              },


              {
                question: "How big is the International Space Station?", //other answers
                options: {
                  a: "",
                  b: "1 US football field",
                  c: "",
                  d: "India"
                },
                  //answer:"c",
                  rawanswer:"",
                  answer:""
              },

              {
                question: "In which year did the first person travel to space?",
                options: {
                  a: "1957",
                  b: "1945",
                  c: "1971",
                  d: "1961"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"1961" //year
              },

              {
                question: "who is the current Federal Reserve Chair?",
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"Jerome H. Powell"
              },

              {
                question: "When was ?",//atlantis 
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:""
              },

              {
                question: "Who said this quote: ",//pick quote
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:""
              },

              {
                question: "Who said this quote: ",//pick quote
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"",
              },

              {
                question: "Which is the world's biggest animal?",
                options: {
                  a: "Whale shark",
                  b: "Blue whale",
                  c: "Elephant",
                  d: "Giraffe"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Blue whale"
              },

              {
                question: "How old is Kim Jong Un? faf",//fact
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"",
                  rawanswer:"",
                  answer:""
              },

              /* triple o */
              {
                question: "What is Jeff Bezos' net worth?",
                options: {
                  a: "85.2 billion USD",
                  b: "175.3 billion USD",
                  c: "93.7 billion USD",
                  d: "72 billion USD"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"175.3 billion USD" //numbers + units 
              },

              {
                question: "Which has highest source of Vitamin C",//
                options: {
                  a: "Orange",
                  b: "Bell peppers",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"b",
                  rawanswer:"b",
                  answer:"Bell peppers"
              }, 

              {
                question: "What is benefit of vitamin C",//pick quote
                options: {
                  a: "Jerome H. Powell",
                  b: "Janet L. Yellen",
                  c: "Christine Lagarde",
                  d: "Larry Kudlow"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:""
              },

              {
                question: "Roughly how big is Seoul",
                options: {
                  a: "100km²",
                  b: "930km²",
                  c: "600km²",
                  d: "1200km²"
                },
                  //answer:"c", 
                  rawanswer:"c", 
                  answer:"600km²" //numbers + units?
              },

              {
                question: "Name the highest grossing Broadway show of all time",
                options: {
                  a: "Phantom of the Opera",
                  b: "Mamma Mia",
                  c: "Wicked",
                  d: "The Lion King"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"The Lion King"
              },

              {
                question: "NYU",//pick quote
                options: {
                  a: "Phantom of the Opera",
                  b: "Mamma Mia",
                  c: "Wicked",
                  d: "The Lion King"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:""
              },


              {
                question: "NYC",//pick quote
                options: {
                  a: "Phantom of the Opera",
                  b: "Mamma Mia",
                  c: "Wicked",
                  d: "The Lion King"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:""
              },

              {
                question: "Hotchkiss",//pick quote
                options: {
                  a: "Phantom of the Opera",
                  b: "Mamma Mia",
                  c: "Wicked",
                  d: "The Lion King"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:""
              },


              {
                question: "Which year was Emma Willard School founded?",//change?
                options: {
                  a: "1805",
                  b: "1923",
                  c: "1850",
                  d: "1814"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"1814" //year
              },

              {
                question: "Texas is the ",//pick quote
                options: {
                  a: "Phantom of the Opera",
                  b: "Mamma Mia",
                  c: "Wicked",
                  d: "The Lion King"
                },
                  //answer:"d",
                  rawanswer:"d",
                  answer:"d"
              },

              {
                question: "Who did not graduate from University of Texas?",//pick quote
                options: {
                  a: "Sandra Bullock",
                  b: "Michael S. Dell",
                  c: "Rex W. Tillerson",
                  d: "Jeb Bush",
                  e: "Neil deGras Tyson"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"Sandra Bullock"
              },

              {
                question: "Who did not graduate from University of Texas?",//actor
                options: {
                  a: "Sandra Bullock",
                  b: "Michael S. Dell",
                  c: "Rex W. Tillerson",
                  d: "Jeb Bush",
                  e: "Neil deGras Tyson"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"a"
              },

              {
                question: "Who did not graduate from University of Texas?",//morning routine
                options: {
                  a: "Sandra Bullock",
                  b: "Michael S. Dell",
                  c: "Rex W. Tillerson",
                  d: "Jeb Bush",
                  e: "Neil deGras Tyson"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:"a"
              },

              {
                question: "Who did not graduate from University of Texas?",//sciencs
                options: {
                  a: "Sandra Bullock",
                  b: "Michael S. Dell",
                  c: "Rex W. Tillerson",
                  d: "Jeb Bush",
                  e: "Neil deGras Tyson"
                },
                  //answer:"a",
                  rawanswer:"a",
                  answer:""
              },

              //Which team is the most successful in MLB history?
              {
                question: "Who is a famous member of the New York Yankees?",
                options: {
                  a: "Babe Ruth",
                  b: "Clayton Kershaw",
                  c: "Bily Williams",
                  d: "Jackie Robinson"
                },
                  //answer: "a",
                  rawanswer: "a",
                  answer:"Babe Ruth"
              },

              {
                question: "Toronto blue jays is the only franchise in Major League Baseball that plays in a city not in the USA. True or false?",
                options: { 
                  a: "True",
                  b: "False"
                },
                  //answer:"a",
                  rawanswer: "a",
                  answer:"true" //or boolean?
              }
            ];

              //loadQuiz();

      window.onload = function() {
        loadQuiz();
        speak("Welcome to the family quiz game"); 
        //need user interaction to read quesiton?
      }

    function loadQuiz() { //initialise() {
      if(localStorage.getItem('qs') === null) { //if qs does not exist
        qs = 50 //questions.length in case more qs
      } else { //if qs yes exists
        qs = parseInt(localStorage.getItem('qs')); //returns string?
      }
      //console.log("qs: " + qs);

      gum = Math.floor(Math.random()*((qs-1) + 1)); // 0 to last index (questions length - 1) 0 is first question
        console.log("gum: " + gum);
       /*dont need ?  localStorage.setItem('gum', gum.toString()); //no need toString(), auto converts # to string in localstorage. just leave
        //even display questions?*/

        //document.getElementById("quizdiv").style.display="block"; 
        //document.getElementById("result").style.display="none";

        speak("wilbur");
        document.getElementById("question").textContent = questions[gum].question;
        document.getElementById("A").textContent = "A) " + questions[gum].options.a;
        document.getElementById("B").textContent = "B) " + questions[gum].options.b;
        document.getElementById("C").textContent = "C) " + questions[gum].options.c;
        document.getElementById("D").textContent = "D) " + questions[gum].options.d;

       speak(questions[gum].question);
      
       setTimeout(function() {

         /* if(questions[gum].options.e {
          speak(",A,, " + questions[0].options.a + ",B,, " + questions[0].options.b + ",C,, " + questions[0].options.c + ", D,, " + questions[0].options.d + ", E,, " + "questions[0].options.e" + "."); //what if more options
         } else {
          speak(",A,, " + questions[0].options.a + ",B,, " + questions[0].options.b + ",C,, " + questions[0].options.c + ", D,, " + questions[0].options.d + "."); //what if more options
         } */

           speak(",A,, " + questions[gum].options.a + ",B,, " + questions[gum].options.b + ",C,, " + questions[gum].options.c + ", D,, " + questions[gum].options.d + "."); //what if more options
       }, 2590  //",B. " 
       );
      //return gum;
    }

    function speak(text) {
      console.log("speaking");
      var msg = new SpeechSynthesisUtterance();
      var voices = speechSynthesis.getVoices(); 
      msg.voice = voices[0];
      msg.text = text;
      msg.lang = 'en-US';
      msg.volume = 2; //0 to 1 float, default:1
      msg.rate = 0.9; //0.1 to 10 (fastest) default:1
      msg.pitch = 1.2;//0 to 2 (highest) default:1
      speechSynthesis.speak(msg);
    }
     //print all voices in console: speechSynthesis.getVoices()

window.onclick = function(){
      speak('howdymate')
      console.log('what');
    }

    document.body.onkeyup = function(e){
    if(e.keyCode == 32){
    //speak('howdymate')
    runSpeechRecognition();
     // initialise();
     //function correct() 
     // console.log("correct");
     // document.getElementById("correct").style.display="block";
     // document.body.style.backgroundColor = "white";
     // document.getElementById("text").style.display="none";
       
    }
}


//var msg = new SpeechSynthesisUtterance();
//msg.text = questions[gum].question;
//speechSynthesisInstance.pause();

//////////////////////////////////////////
var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList
var SpeechRecognitionEvent = SpeechRecognitionEvent || webkitSpeechRecognitionEvent


function runSpeechRecognition() {
    //console.log what say 
    var recognition = new SpeechRecognition();
    recognition.lang = 'en-US';
    /*just for testing, delete*/ 
    recognition.onstart=function() {
       console.log("listening...");
    } 

    recognition.onspeechend = function() {
        recognition.stop();
        console.log("stop");
    }

    //what if partly or units 
    recognition.onresult = function(event) {
        var confidence = event.results[0][0].confidence;
        var transcript = event.results[0][0].transcript;
        //output.innerHTML = transcript;
        console.log(transcript);
        console.log("confidence: " + confidence*100+'%')
        //checkAnswer()
        if (transcript === "Oracle") { //questions[gum].answer. type of both: string. caps sensistive?
          //correct();
          console.log("correct");
          speak("Correct"); //Correct! 
          //document.getElementById("quizdiv").style.display="none";
          //document.getElementById("result").style.display="block"; 
          document.querySelector("div#quizdiv").style.display="none";
          document.querySelector("p#question").style.display="none"; 
          document.getElementById("results").style.display = "block";
          document.getElementById("results").textContent = "Correct!";

          var honey = document.getElementById("yellow"); //not exact, starts a bit after speak
          honey.currentTime=0;
          honey.play(); //bit delay b4 start. not 
         
          document.body.style.backgroundColor = "white"; //always?
    
          //show some div balloons animation? QQ

          console.log("questions length:" + questions.length);
          questions.splice(gum, 1); //take away the question at that random value
          console.log("questions length after splice:" + questions.length);
       
          qs = questions.length;


          //CHANGE TO JSON WRITE WHOLE QUESTONS ARRAY TO LOCAL STORAGE SO NO FAKE LEGNTH;QQ
          setTimeout(function() {document.body.style.backgroundColor = "yellow",
        
        document.querySelector("div#quizdiv").style.display="block",
        document.querySelector("p#question").style.display="block",
        document.getElementById("results").style.display="none"
        
     
          localStorage.setItem('qs', qs.toString())//questions.length.toString(). no need toString(), auto converts # to string in localstorage. just leave. diff than quiz game QQ
          console.log("qs: " + parseInt(localStorage.getItem('qs'))); //check local storage = questions.length

          loadQuiz();
        }, 4000);  
          //return qs
        } else if //(transcript === "bus" || transcript === "cow" || transcript === "red") { //
          (transcript === questions[gum].options.a || transcript === questions[gum].options.b || transcript === questions[gum].options.c || transcript === questions[gum].options.d) {
          console.log("wrong answer");
          speak("Incorrect!"); //
         // speak("ooooh, better luck next time!")
         // speak("ooooh, oh ")
          document.getElementById("results").style.display = "block";
          document.getElementById("results").textContent = "Wrong!";
          document.querySelector("div#quizdiv").style.display="none";
          document.querySelector("p#question").style.display="none"; 

          //var honey = document.getElementById("yellow");  //not exact, starts a bit after speak
          //honey.currentTime=0;
          //honey.play(); //bit delay b4 start

          document.body.style.backgroundColor = "red"; 

          setTimeout(function() {
          speak("try again"),
          document.getElementById("results").textContent = "Try again!"
          }, 2590);

          setTimeout(function() {document.body.style.backgroundColor = "yellow",
          document.querySelector("div#quizdiv").style.display="block",
          document.querySelector("p#question").style.display="block",
          document.getElementById("results").style.display="none"
        }, 4000);  
          //document.getElementById("quizdiv").style.display="block"; //keep showing quiz questions
          
          //show some div balloons animation? 
          
          
          //return gum?
          //runSpeechRecognition();
        } /* else { //no need if onnomatch? QQ
            console.log("unrecognised");
            speak("answer unrecognized");
            /*
            setTimeout(function() {
            speak("try again"); 
            }, 2590
            );
        }*/
    }
    //show original screen

    recognition.start()

    //QQ prevent speak b4 questions load? or press other keys while things in operation?

    //or move out and define new speechrecognition() as global
    recognition.onnomatch = function(event) {
        console.log("answer unrecognised");
        speak("sorry, I didn't recognise that answer");
        document.getElementById("results").style.display = "block"; 
        document.getElementById("results").textContent = "answer unrecognised"; //? position
        //no sound
        //no visuals
        //document.getElementById("quizdiv").style.display="block"; //keep showing quiz questions
        setTimeout(function() {
            speak("try again"),
            document.getElementById("results").textContent = "Try again!";
            }, 2590
            );
    }

    recognition.onerror = function(event) {
        console.log("error: " + event.error);
        speak("error");
        document.getElementById("results").style.display = "block" //need?QQ
        document.getElementById("results").textContent = "answer unrecognised"; //? position. keep QQ
        //document.getElementById('result').textContent = "Error in reocgnition: " + event.error; 
        //wont know, just comment out? QQ
        //diagnostic.textContent = "Error in recognition: " + event.error;
        //no sound??
        //no visuals
        //document.getElementById("quizdiv").style.display="block"; //keep showing quiz questions

        setTimeout(function() {
            speak("try again"),
            document.getElementById("results").textContent = "Try again!"
            }, 2590
            );
            //initialise
            //runSpeechRecognition();
    } 
} //runspeechrecognition bracket
} else {
    console.log("Speech recognition not supported");
}

</script>
            
</body>
</html>
          
<!----
var msg = new SpeechSynthesisUtterance();
msg.text = "Correct!";
window.speechSynthesis.speak(msg);*/

 var msg = new SpeechSynthesisUtterance();
 msg.text = "Wrong!"
 window.speechSynthesis.speak(msg) 

//display each once or none at all
//no repeat 
//spacebar


 /* var msg = new SpeechSynthesisUtterance();
 msg.text = "Correct!";
 window.speechSynthesis.speak(msg);
 */
-->
